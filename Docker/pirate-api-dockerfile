FROM python:3.13-slim

RUN apt update && \
    apt -y install build-essential \
                    libffi-dev \
                    unzip \
                    rsync \
					git
         
COPY requirements-api.txt requirements-api.txt
                    
# Set the working directory inside the container
WORKDIR /app

# Copy and install Python dependencies
COPY requirements-api.txt ./
RUN pip install --no-cache-dir -r requirements-api.txt

# Copy the run scripts from the API directory (relative to the build context)
COPY API/ ./API/


ENTRYPOINT ["python3"]